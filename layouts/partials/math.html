<!-- Async load KaTeX CSS to avoid blocking render -->
<link rel="preload" href='{{ "katex/katex.min.css" | relURL }}' as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href='{{ "katex/katex.min.css" | relURL }}'></noscript>

<!-- Preload KaTeX fonts -->
<link rel="preload" href='{{ "katex/fonts/KaTeX_Main-Regular.woff2" | relURL }}' as="font" type="font/woff2" crossorigin>

<script defer src='{{ "katex/katex.min.js" | relURL}}'></script>
<script defer src='{{ "katex/contrib/auto-render.min.js" | relURL}}'></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError : false
        });
    });
</script>